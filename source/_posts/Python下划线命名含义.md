---
title: Python下划线命名含义
date: 2018-06-01 15:09:25
tags:
category: 
- Python
---

在使用Python定义类时通常会看到如下几种命名方式:

1. 以字母开头的变量, 如`a`, `b`, `c`
2. 以单个下划线开头的变量, 如`_f`, `_g`
3. 以单个下划线结尾的变量, 如`p_`
4. 以两个下划线开头的变量, 如`__x`, `__y`
5. 以两个下划线开头和结尾的变量, 如`__init__`, `__del__`等等

这些命名规范有些在解释器中具有特殊含义，有些则是一种通用的非强制性规范。

#### 1. 以字母开头的变量
这一类变量在各种程序设计语言中都存在，从代码可读性来考虑，应当具有直观的含义，在学校的时候就经常会被要求减少使用a,b,c,i,j,k等在大多场景下不具备含义的字母

#### 2. 以单个下划线开头的变量
绝大部分情况下都和普通以字母开头的变量一样，不过，再使用某些场景，比如说用C编写扩展库会用'_'命名，再用去掉下划线的Python模块进行封装

#### 3. 以单个下划线结尾的变量
这种命名方式在Python官方推荐的代码样式中是作为区分关键字的编码风格，比如说，当我们需要定义一个for变量时，如果非这个名字不可那我们可以依照规范将其命名为`for_`

#### 4. 以两个下划线开头的变量
网上有部分人会说这是Python里面定义私有成员变量的方式，实际上，Python解释器会对以这种方式命名的变量做一个Name Mangling(改编名字)的操作，定义一个`__n`的变量时，可以通过instance._CLASS_NAME__n的形式访问到，可以参考下述代码
```
class A:
    def __init__(self, n = 0):
        self.__n = n

a = A(1)
print(a.__n)
print(a._A__n)
```
做这种操作的目的在于避免子类中存在同名变量(这里认为函数也是变量)而产生冲突

#### 5. 以两个下划线开头和结尾的变量
这种命名形式是Python的"魔术"对象，所有的Python入门书中都会提及.当然，不仅限于类中，全局变量`__file__`, `__name__`也是一样，官方建议不要尝试以这样的形式命名自己的变量或者函数，当然，解释器会认为这是合法的，并不会告诉你你这样做会带来的风险
